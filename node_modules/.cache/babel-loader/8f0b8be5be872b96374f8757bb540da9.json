{"ast":null,"code":"import _classCallCheck from\"/Users/ianstrand/Sites/strandian/strand/SDCCD/webd171/lessons/5/webd171-5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ianstrand/Sites/strandian/strand/SDCCD/webd171/lessons/5/webd171-5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ianstrand/Sites/strandian/strand/SDCCD/webd171/lessons/5/webd171-5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ianstrand/Sites/strandian/strand/SDCCD/webd171/lessons/5/webd171-5/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Container,Row,Col}from'react-bootstrap';import{Helmet}from'react-helmet';import'moment-timezone';import'./App.css';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.getWeatherData=function(){var API='https://mm214.com/demo.php/';fetch(API).then(function(res){return res.json();}).then(function(result){console.log(result);var _result$coord=result.coord,lon=_result$coord.lon,lat=_result$coord.lat;var _result$weather$=result.weather[0],main=_result$weather$.main,description=_result$weather$.description,icon=_result$weather$.icon;var _result$main=result.main,temp=_result$main.temp,temp_min=_result$main.temp_min,temp_max=_result$main.temp_max,feels_like=_result$main.feels_like,humidity=_result$main.humidity;var _result$wind=result.wind,speed=_result$wind.speed,deg=_result$wind.deg;var _result$sys=result.sys,country=_result$sys.country,sunrise=_result$sys.sunrise,sunset=_result$sys.sunset;var name=result.name;var geoTz=require('geo-tz');var timezone=JSON.stringify(geoTz(lat,lon));var moment=require('moment-timezone');moment.tz.setDefault(timezone);var date=moment().format('MMMM Do, YYYY');var time=moment().format('h:mm a');var WindDirection=['N','NNE','NE','ENE','E','ESE','SE','SSE','S','SSW','SW','WSW','W','WNW','NW','NNW'];var degreesDirection=function degreesDirection(degrees){var value=Math.floor(degrees/22.5+0.5);return WindDirection[value%16];};_this.setState({isLoaded:true,data:{name:name,country:country,sunrise:moment.unix(sunrise).format('h:mm a'),sunset:moment.unix(sunset).format('h:mm a'),speed:(speed/1.609344).toFixed(0),deg:deg,temp:((temp-273.15)*1.8+32).toFixed(1),temp_min:((temp_min-273.15)*1.8+32).toFixed(1),temp_max:((temp_max-273.15)*1.8+32).toFixed(1),feels_like:((feels_like-273.15)*1.8+32).toFixed(0),humidity:humidity,main:main,description:description,icon:'http://openweathermap.org/img/wn/'+icon+'@2x.png',lon:lon,lat:lat,timezone:timezone,date:date,time:time,degreesDirection:degreesDirection}});},function(error){_this.setState({isLoaded:true,errorMessage:error.message});});};_this.state={data:null,isLoaded:false,errorMessage:''};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.getWeatherData();}},{key:\"render\",value:function render(){var _this$state=this.state,errorMessage=_this$state.errorMessage,isLoaded=_this$state.isLoaded,data=_this$state.data;if(errorMessage){return/*#__PURE__*/React.createElement(\"div\",{className:\"weatherApp\"},/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"html\",{lang:\"en\"}),/*#__PURE__*/React.createElement(\"title\",null,\"Weather Data App\"),/*#__PURE__*/React.createElement(\"meta\",{name:\"description\",content:\"View the weather!\"})),/*#__PURE__*/React.createElement(Container,{className:\"p-5\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{className:\"pt-4\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"error\"},\" Error: \",errorMessage,\" \")))));}else if(!isLoaded){return/*#__PURE__*/React.createElement(\"div\",{className:\"weatherApp\"},/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"html\",{lang:\"en\"}),/*#__PURE__*/React.createElement(\"title\",null,\"Weather Data App\"),/*#__PURE__*/React.createElement(\"meta\",{name:\"description\",content:\"View the weather!\"})),/*#__PURE__*/React.createElement(Container,{className:\"p-5\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{className:\"pt-4\"},/*#__PURE__*/React.createElement(\"h1\",null,\" Loading... \")))));}else{var name=data.name,country=data.country,sunrise=data.sunrise,sunset=data.sunset,speed=data.speed,deg=data.deg,temp=data.temp,temp_min=data.temp_min,temp_max=data.temp_max,feels_like=data.feels_like,humidity=data.humidity,main=data.main,description=data.description,icon=data.icon,lon=data.lon,lat=data.lat,timezone=data.timezone,date=data.date,time=data.time,degreesDirection=data.degreesDirection;return/*#__PURE__*/React.createElement(\"div\",{className:\"weatherApp\"},/*#__PURE__*/React.createElement(Helmet,null,/*#__PURE__*/React.createElement(\"html\",{lang:\"en\"}),/*#__PURE__*/React.createElement(\"title\",null,\"Weather Data App\"),/*#__PURE__*/React.createElement(\"meta\",{name:\"description\",content:\"View the weather!\"})),/*#__PURE__*/React.createElement(Row,{className:\"py-4\"},/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"h1\",null,\"View the weather!\"))))),/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(Container,{className:\"weather-main pt-4 pb-5\"},/*#__PURE__*/React.createElement(Row,{className:\"d-flex justify-content-md-center\"},/*#__PURE__*/React.createElement(Col,{md:4,className:\"pb-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"weather-date\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"h2 pb-4\"},time),/*#__PURE__*/React.createElement(\"p\",null,date),/*#__PURE__*/React.createElement(\"p\",null,\"Sunrise: \",sunrise,\" \",/*#__PURE__*/React.createElement(\"br\",null),\" Sunset: \",sunset)),/*#__PURE__*/React.createElement(\"div\",{className:\"weather-coord\"},/*#__PURE__*/React.createElement(\"p\",null,\"Coordinates: \",/*#__PURE__*/React.createElement(\"br\",null),\" \",lat,\", \",lon))),/*#__PURE__*/React.createElement(Col,{md:4,className:\"pb-5\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"h2\"},name,\", \",country),/*#__PURE__*/React.createElement(\"img\",{src:icon,alt:\"weather icon { description }\",className:\"weather-icon\"}),/*#__PURE__*/React.createElement(\"h2\",{className:\"description\"},\" \",description,\" \")),/*#__PURE__*/React.createElement(Col,{md:4},/*#__PURE__*/React.createElement(\"div\",{className:\"temp-main\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"h2 temperature pb-4\"},\" \",temp,\"\\xB0F \"),/*#__PURE__*/React.createElement(\"p\",null,\" Feels like \",feels_like,\"\\xB0F \"),/*#__PURE__*/React.createElement(\"p\",null,\"H \",temp_max,\"\\xB0F \",/*#__PURE__*/React.createElement(\"br\",null),\" L \",temp_min,\"\\xB0F\")),/*#__PURE__*/React.createElement(\"div\",{className:\"weather-prop\"},/*#__PURE__*/React.createElement(\"p\",null,\" Wind: \",degreesDirection(deg),\", \",speed,\" mph\",/*#__PURE__*/React.createElement(\"br\",null),\" Humidity: \",humidity,\"% \")))))),/*#__PURE__*/React.createElement(\"footer\",null,/*#__PURE__*/React.createElement(Container,{className:\"mt-3\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"p\",null,\"You are viewing the weather in the following time zone: \"),/*#__PURE__*/React.createElement(\"p\",null,timezone,\".\"))))));}}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/ianstrand/Sites/strandian/strand/SDCCD/webd171/lessons/5/webd171-5/src/App.js"],"names":["React","Container","Row","Col","Helmet","App","props","getWeatherData","API","fetch","then","res","json","result","console","log","coord","lon","lat","weather","main","description","icon","temp","temp_min","temp_max","feels_like","humidity","wind","speed","deg","sys","country","sunrise","sunset","name","geoTz","require","timezone","JSON","stringify","moment","tz","setDefault","date","format","time","WindDirection","degreesDirection","degrees","value","Math","floor","setState","isLoaded","data","unix","toFixed","error","errorMessage","message","state","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Container, Row, Col } from 'react-bootstrap';\nimport {Helmet} from 'react-helmet';\nimport 'moment-timezone';\n\nimport './App.css';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: null,\n      isLoaded: false,\n      errorMessage: ''\n    };\n  }\n\n  getWeatherData = () => {\n    const API = 'https://mm214.com/demo.php/';\n\n    fetch(API)\n      .then(res => res.json())\n      .then(\n        (result) => {\n\n            console.log(result);\n\n            const { lon, lat } = result.coord;\n            const { main, description, icon } = result.weather[0];\n            const { temp, temp_min, temp_max, feels_like, humidity } = result.main;\n            const { speed, deg } = result.wind;\n            const { country, sunrise, sunset } = result.sys;\n            const { name } = result;\n\n            var geoTz = require('geo-tz');\n            var timezone = JSON.stringify(geoTz(lat, lon));\n\n            var moment = require('moment-timezone');\n            moment.tz.setDefault(timezone);\n\n            const date = moment().format('MMMM Do, YYYY');\n            const time = moment().format('h:mm a');\n\n            const WindDirection = ['N', 'NNE', 'NE', 'ENE', 'E', 'ESE', 'SE', 'SSE', 'S', 'SSW', 'SW', 'WSW', 'W', 'WNW', 'NW', 'NNW'];\n            const degreesDirection = (degrees) => {\n              const value = Math.floor((degrees / 22.5) + 0.5);\n              return WindDirection[value % 16];\n            };\n\n          this.setState({\n            isLoaded: true,\n            data: {\n              name,\n              country,\n              sunrise: moment.unix(sunrise).format('h:mm a'),\n              sunset: moment.unix(sunset).format('h:mm a'),\n              speed: (speed / 1.609344).toFixed(0),\n              deg,\n              temp: (((temp - 273.15) * 1.8) + 32).toFixed(1),\n              temp_min: (((temp_min - 273.15) * 1.8) + 32).toFixed(1),\n              temp_max: (((temp_max - 273.15) * 1.8) + 32).toFixed(1),\n              feels_like: (((feels_like - 273.15) * 1.8) + 32).toFixed(0),\n              humidity,\n              main,\n              description,\n              icon: 'http://openweathermap.org/img/wn/' + icon + '@2x.png',\n              lon,\n              lat,\n              timezone,\n              date,\n              time,\n              degreesDirection,\n            }\n          });\n\n        },\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            errorMessage: error.message\n          });\n        }\n      );\n  }\n\n  componentDidMount() {\n    this.getWeatherData();\n  }\n\n  render() {\n    const { errorMessage, isLoaded, data } = this.state;\n\n    if (errorMessage) {\n      return (\n        <div className='weatherApp'>\n        <Helmet>\n          <html lang='en' />\n          <title>Weather Data App</title>\n          <meta name='description' content='View the weather!'/>\n        </Helmet>\n        <Container className = 'p-5'>\n          <Row>\n            <Col className = 'pt-4'>\n              <h1 className = 'error' > Error: { errorMessage } </h1>\n            </Col>\n          </Row>\n        </Container>\n        </div>\n      );\n    } else if (!isLoaded) {\n      return (\n        <div className='weatherApp'>\n        <Helmet>\n          <html lang='en' />\n          <title>Weather Data App</title>\n          <meta name='description' content='View the weather!'/>\n        </Helmet>\n        <Container className = 'p-5'>\n          <Row>\n            <Col className = 'pt-4'>\n              <h1> Loading... </h1>\n            </Col>\n          </Row>\n        </Container>\n        </div>\n      );\n    } else {\n\n       const { name, country, sunrise, sunset, speed, deg, temp, temp_min, temp_max, feels_like, humidity, main, description, icon, lon, lat, timezone, date, time, degreesDirection } = data;\n     \n       return (\n          <div className='weatherApp'>\n            <Helmet>\n              <html lang='en' />\n              <title>Weather Data App</title>\n              <meta name='description' content='View the weather!' />\n            </Helmet>\n            <Row className = 'py-4'>\n              <Col>\n                <header>\n                  <Container>\n                    <h1>View the weather!</h1>\n                  </Container>\n                </header>\n              </Col>\n            </Row>\n            <main>\n              <Container className = 'weather-main pt-4 pb-5'>\n                <Row className = 'd-flex justify-content-md-center'>\n                  <Col md={4} className='pb-5'>\n                    <div className = 'weather-date'>\n                      <h3 className = 'h2 pb-4'>{ time }</h3>\n                      <p>{ date }</p>\n                      <p>Sunrise: { sunrise } <br /> Sunset: { sunset }</p>\n                    </div>\n                    <div className = 'weather-coord'>\n                      <p>Coordinates: <br /> { lat }, { lon }</p>\n                    </div>\n                  </Col>\n                  <Col md={4} className='pb-5'>\n                    <h3 className = 'h2'>{ name }, { country }</h3>\n                    <img src = { icon } alt = 'weather icon { description }' className = 'weather-icon' />\n                    <h2 className = 'description'> { description } </h2>\n                  </Col>\n                  <Col md={4}>\n                    <div className = 'temp-main'>\n                      <h3 className = 'h2 temperature pb-4'> { temp }°F </h3>\n                      <p> Feels like { feels_like }°F </p>\n                      <p>H { temp_max }°F <br /> L { temp_min }°F</p>\n                    </div>\n                    <div className = 'weather-prop'>\n                      <p> Wind: { degreesDirection(deg) }, { speed } mph\n                      <br /> Humidity: { humidity }% </p>\n                    </div>\n                  </Col>\n                </Row>\n              </Container>\n            </main>\n            <footer>\n              <Container className = 'mt-3'>\n                <Row>\n                  <Col>\n                    <p>You are viewing the weather in the following time zone: < /p>\n                    <p>{ timezone }.< /p>\n                  </Col>\n                </Row>  \n              </Container>\n            </footer>\n          </div>\n        );\n    }\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}